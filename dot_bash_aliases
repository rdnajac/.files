# ~/.bash_aliases
# Default .bashrc automatically sources `~/.bash_aliases` when present
# check out `/usr/share/doc/bash` for more resources

# uncomment the next line for a more intuitive default `ls`
# alias ls='ls -F --color=auto --human-readable --group-directories-first'
alias ll='ls -lA'
# alias lll='ls -lAc --size -1 -S --classify'

# function to change directory and list files
cl() { builtin cd "${1:-$HOME}" && ls; }

alias bd='cd -'
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..' # we have to go deeper
alias .....='cd ../../../..'
alias ......='cd ../../../../..'
alias .......='cd ../../../../../..'

# make verbose default
alias cp='cp -vi'
alias mv='mv -vi'
alias rm='rm -vi'
alias rmd='rm -drvI'
alias mkdir='mkdir -v'
alias rmdir='rmdir -v'
alias lock='chmod -vv -w'   # make a file read-only
alias chx='chmod -vv u+x'   # make a file executable
alias link='ln -vsfFwh'     # see `man ln` for flags

# colored output for common commands
alias grep='grep --color=auto'
alias diff='diff --color=auto'

alias pip=pip3
alias zz=fg        # `<CTRL-Z> from (n)vim` suspends the process
alias rscript='Rscript'

VISUAL=${VISUAL:-nv}
# edit config files
alias ssx='$VISUAL $HOME/.ssh/config'
alias zr='$VISUAL $ZDOTDIR'
alias ba='$VISUAL $HOME/.bash_aliases'
alias tmx='$VISUAL $HOME/.config/tmux/tmux.conf'
alias vvv='cd $HOME/.vim/'
alias nvv='cd $HOME/.vim/lua'

alias gs='git status'
alias ga='git add'
alias gcam='git commit -am'
alias gp='git push'
alias gs='git status'

alias Clean='rm -rfv **/.{DS_Store,bak,swp}'

# function to check if a command exists
installed() { command -v "$1" >/dev/null 2>&1; }

installed prettier && alias pretty='prettier --write .'

# alias tmux='tmux -2'
installed tmux && alias kms='tmux kill-server'

# rsync all non-hidden files and directories
installed rsync \
	&& alias sync='rsync -avz --progress --exclude=".*"'

# update all cargo packages if cargo-install-update is also installed
installed cargo-install-update \
	&& alias cargoup='cargo install-update -a'

installed bear && alias bmake='bear -- make'
alias kmake='cd ~/kernel_dev/linux && make -j $(nproc) && \
	sudo make modules_install && sudo make install'

if installed gh; then
	alias cs='gh codespace'
	alias explain='gh copilot explain '
	alias \?\?='gh copilot suggest --shell-out'
fi

if installed quarto; then
	alias qp='quarto preview'
	alias qr='quarto render'
fi

unset -f installed # clean-up

# clear scren and restart shell
ree() { clear -x && echo "(╯°□°)╯︵ ┻━┻" && exec "$SHELL"; }
