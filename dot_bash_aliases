# ~/.bash_aliases
# Default .bashrc automatically sources `~/.bash_aliases` when present
# check out `/usr/share/doc/bash` for more resources

# uncomment the next line for a more intuitive default `ls`
# alias ls='ls -F --color=auto --human-readable --group-directories-first'
alias ll='ls -lA'
# alias lll='ls -lAc --size -1 -S --classify'

# function to change directory and list files
cl() { builtin cd "${1:-$HOME}" && ls; }

alias bd='cd -'
alias ..='cd ..'
alias ...='cd ../..'

# verbose
alias cp='cp -vi'
alias mv='mv -vi'
alias rm='rm -vi'
alias rmd='rm -drvI'
alias mkdir='mkdir -v'
alias rmdir='rmdir -v'
alias lock='chmod -vv -w' # make a file read-only
alias chx='chmod -vv u+x' # make a file executable
alias link='ln -vsfFwh'   # see `man ln` for flags

# color
alias grep='grep --color=auto'
alias diff='diff --color=auto'

alias pip=pip3
alias rscript=Rscript

alias g=git
alias zz=fg

VISUAL=${VISUAL:-nvim}
alias ssx='$VISUAL $HOME/.ssh/config'
alias ba='$VISUAL $HOME/.bash_aliases'
alias tmx='$VISUAL $HOME/.config/tmux/tmux.conf'

# function to check if a command exists
installed() { command -v "$1" > /dev/null 2>&1; }
installed bear && alias bmake='bear -- make'
installed prettier && alias pretty='prettier --write .'
installed rsync && alias sync='rsync -avz --progress --exclude=".*"'
installed tmux && alias kms='tmux kill-server'
installed xdg-open && alias open='xdg-open > /dev/null 2>&1 &'
installed cargo-install-update && alias cargoup='cargo install-update -a'
if installed eza; then # {{{
	alias eza='eza --group-directories-first --colour=auto --icons=auto'
	alias ll='eza --all -l'
	# alias ls='eza --group-directories-first --colour=always --icons=auto'

	# tree
	alias l='eza --all --tree -l --git-ignore'
	alias l1='ll --tree -L1 --git-ignore'
	alias l2='ll --tree -L2 --git-ignore'
	alias l3='ll --tree -L3 --git-ignore'
	alias L1='ll --tree -L1'
	alias L2='ll --tree -L2'
	alias L3='ll --tree -L3'
fi                    # }}}
if installed gh; then # {{{
	alias cs='gh codespace'
	alias whats='gh copilot explain '
	alias \?\?='gh copilot suggest --shell-out '
fi                        # }}}
if installed quarto; then # {{{
	alias qp='quarto preview'
	alias qr='quarto render'
fi                         # }}}
if installed chezmoi; then # {{{
	alias cz='chezmoi --verbose'
	alias cza='cz add'
	alias czA='cz apply'
	alias czc='cz cd'
	alias czd='cz diff'
	alias cze='cz edit'
	alias czi='cz init'
	alias czr='cz re-add'
	alias czs='cz status'
	alias czz='$VISUAL $CHEZMOI_SOURCE_DIR/dot_config/zsh'

	# force commands to operate on the current directory
	alias czm='cz managed .'
	alias czu='cz unmanaged .'

	# debugging
	alias czx='cz execute-template'
	alias cztest='cz execute-template --file'
fi # }}}

unset -f installed # clean-up

alias kmake='cd ~/kernel_dev/linux && make -j $(nproc) && \
	sudo make modules_install && sudo make install'

# clear screen and restart shell
ree() { clear -x && echo "(╯°□°)╯︵ ┻━┻" && exec "$SHELL"; }

# vim: ft=sh fdl=0
